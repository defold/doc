---
title: Физика в Defold
brief: В Defold включены физические движки под 2D и 3D. Они позволяют симулировать Ньютоновские физические взаимодействия между разными типами collision-объектов.
---

# Физика

Defold включает в себя модифицированную версию физического движка [Box2D](http://www.box2d.org) (версия 2.1) для симулияций 2D физики, а также физический движок Bullet (версии 2.77) для трёхмерной физики. Это позволяет симулировать Ньютоновские физические взаимодействия между разными типами _collision-объектов_. Данное руководство объясняет принцип работы этих движков.

Основные концепции физических движков задействованных в Defold следующие:

* **Объекты столкновения** - Объект столкновения это компонент который применяется для придания игровому объекту физического поведения. Объект столкновения обладает физическими свойствами, такими, как вес, трение и форма. [Посмотрите, как создаются объекты столкновений](/manuals/physics-objects).
* **Формы столкновения** - Объект столкновения может использовать либо несколько геометрических примитивов-форм или одну сложную форму, определяющую пространственные пределы объекта. [Посмотрите как добавлять формы объектам столкновений](/manuals/physics-shapes).
* **Группы столкновений** - Все объекты столкновений должны принадлежать предопределенной группе и каждый объект столкновения может задать список других групп, с которыми он может сталкиваться. [Посмотрите, как использовать группы столкновений](/manuals/physics-groups)..
* **Сообщения о столкновениях** - Когда два объекта столкновений сталкиваются, физический движок посылает сообщения игровым объектам, которым принадлежат эти два компонента. [Узнайте больше про сообщения о столкновениях](/manuals/physics-messages)

В дополнении к объектам столкновений вы также можете задать **ограничения** объектов столкновений, более известные как **сочленения** (joints), чтобы соединить два объекта столкновений и ограничить или иными способами направить силу и повлиять на то, как они ведут себя в физической симуляции. [Узнайте больше о сочленениях](/manuals/physics-joints).

Вы также можете прощупывать и считывать физический мир вдоль прямого луча известного как **ray cast**. [Узнайте больше про ray casts](/manuals/physics-ray-casts).


## Единицы применяемые движками физических симуляций

Физические движки симулируют Ньютоновскую физику и спроектирован для гладкой работы с метрами, килограммами и секундами (мкс) в качестве единиц. Более того, физический движок откалиброван, чтобы гладко работать с движущимися объектами размеров в диапазоне от 0.1 до 10 метров (статические объекты могут быть больше), и по умолчанию движок трактует 1 единицу (пиксель) как 1 метр. Конвертация между пикселями и метрами удобна на уровне симуляции, но с точки зрения создания игры - это не очень полезно. Со стандартными настройками форма столкновений размером в 200 пикселей будет трактоваться как имеющая размер 200 метров, что далеко за пределами рекомендуемого диапазона, по крайней мере для движущегося объекта.

В целом, требуется, чтобы физическая симуляция была отмасштабирована для того, чтобы гладко работать с типовым размером объектов в игре. Масштаб физической симуляции может быть изменен в файле `game.project` через [настройки масштаба физики](/manuals/project-settings/#physics). Выставление этого значения в, например 0.02, будет означать, что 200 пикселей будут трактоваться как 4 метра. Учтите также, что гравитация (также меняется в `game.project`) должна быть увеличена для согласования с измененным масштабом.


## Предостережения и типовые проблемы

Прокси-коллекции
: Через прокси-коллекции возможно загрузить более одной коллекции верхнего уровня или *игрового мира* в движок. Делая так, важно держать в уме то, что каждая коллекция верхнего уровня - это отдельный физический мир. Физические взаимодействия ([коллизии, триггеры](/manuals/physics-messages) и [ray-cast лучи](/manuals/physics-ray-casts)) срабатывают только для объектов принадлежащих одному и тому же миру. Поэтому, даже если объекты столкновений из двух разных миров визуально располагаются один над другим, не будет просчитываться никакого физического взаимодействия между ними.

Столкновения не определяются
: Если вы испытываете проблемы с тем, что столкновения не обрабатываются или не детектируются, то убедитесь, что вам знаком весь материал из секции по [отладке физики в Руководстве по отладке](/manuals/debugging/#debugging-problems-with-physics).
